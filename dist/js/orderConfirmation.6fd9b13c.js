(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderConfirmation"],{1148:function(t,e,n){"use strict";var c=n("da84"),r=n("5926"),a=n("577e"),i=n("1d80"),o=c.RangeError;t.exports=function(t){var e=a(i(this)),n="",c=r(t);if(c<0||c==1/0)throw o("Wrong number of repetitions");for(;c>0;(c>>>=1)&&(e+=e))1&c&&(n+=e);return n}},"2a01":function(t,e,n){"use strict";n("9c05")},"33fc":function(t,e,n){"use strict";n("4bb5")},"408a":function(t,e,n){var c=n("e330");t.exports=c(1..valueOf)},"4bb5":function(t,e,n){},"4bf6":function(t,e,n){},"58c3":function(t,e,n){"use strict";n("f854")},"75c9":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("b680");var c=n("7a23"),r=n("5502"),a=function(t){var e=Object(r["b"])(),n=e.state.cartList,a=function(t,n,c,r){e.commit("changeCartItemInfo",{shopId:t,productId:n,productInfo:c,num:r})},i=Object(c["b"])((function(){var e,c=(null===(e=n[t])||void 0===e?void 0:e.productList)||{},r={};for(var a in c){var i=c[a];i.count>0&&(r[a]=i)}return r})),o=Object(c["b"])((function(){var e,c=(null===(e=n[t])||void 0===e?void 0:e.shopName)||"";return c})),s=Object(c["b"])((function(){var e,c=null===(e=n[t])||void 0===e?void 0:e.productList,r={total:0,price:0,allChecked:!0};if(c)for(var a in c){var i=c[a];r.total+=i.count,i.check&&(r.price+=i.count*i.price),i.count>0&&!i.check&&(r.allChecked=!1)}return r.price=r.price.toFixed(2),r}));return{cartList:n,shopName:o,productList:i,calculations:s,changeCartItemInfo:a}}},"9c05":function(t,e,n){},b680:function(t,e,n){"use strict";var c=n("23e7"),r=n("da84"),a=n("e330"),i=n("5926"),o=n("408a"),s=n("1148"),u=n("d039"),d=r.RangeError,f=r.String,l=Math.floor,_=a(s),b=a("".slice),p=a(1..toFixed),v=function(t,e,n){return 0===e?n:e%2===1?v(t,e-1,n*t):v(t*t,e/2,n)},O=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},j=function(t,e,n){var c=-1,r=n;while(++c<6)r+=e*t[c],t[c]=r%1e7,r=l(r/1e7)},h=function(t,e){var n=6,c=0;while(--n>=0)c+=t[n],t[n]=l(c/e),c=c%e*1e7},m=function(t){var e=6,n="";while(--e>=0)if(""!==n||0===e||0!==t[e]){var c=f(t[e]);n=""===n?c:n+_("0",7-c.length)+c}return n},g=u((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!u((function(){p({})}));c({target:"Number",proto:!0,forced:g},{toFixed:function(t){var e,n,c,r,a=o(this),s=i(t),u=[0,0,0,0,0,0],l="",p="0";if(s<0||s>20)throw d("Incorrect fraction digits");if(a!=a)return"NaN";if(a<=-1e21||a>=1e21)return f(a);if(a<0&&(l="-",a=-a),a>1e-21)if(e=O(a*v(2,69,1))-69,n=e<0?a*v(2,-e,1):a/v(2,e,1),n*=4503599627370496,e=52-e,e>0){j(u,0,n),c=s;while(c>=7)j(u,1e7,0),c-=7;j(u,v(10,c,1),0),c=e-1;while(c>=23)h(u,1<<23),c-=23;h(u,1<<c),j(u,1,1),h(u,2),p=m(u)}else j(u,0,n),j(u,1<<-e,0),p=m(u)+_("0",s);return s>0?(r=p.length,p=l+(r<=s?"0."+_("0",s-r)+p:b(p,0,r-s)+"."+b(p,r-s))):p=l+p,p}})},b957:function(t,e,n){"use strict";n.r(e);var c=n("7a23"),r={class:"wrapper"};function a(t,e,n,a,i,o){var s=Object(c["A"])("TopArea"),u=Object(c["A"])("ProductList"),d=Object(c["A"])("Order");return Object(c["t"])(),Object(c["f"])("div",r,[Object(c["j"])(s),Object(c["j"])(u),Object(c["j"])(d)])}var i={class:"top"},o={class:"top__header"},s=Object(c["i"])(" 确认订单 "),u=Object(c["h"])('<div class="top__receiver" data-v-6f1119d2><div class="top__receiver__title" data-v-6f1119d2>收货地址</div><div class="top__receiver__address" data-v-6f1119d2>北京理工大学国防科技园2号楼10层</div><div class="top__receiver__info" data-v-6f1119d2><span class="top__receiver__info__name" data-v-6f1119d2>瑶妹（先生）</span><span class="top__receiver__info__name" data-v-6f1119d2>18911024266</span></div><div class="iconfont top__receiver__icon" data-v-6f1119d2></div></div>',1);function d(t,e,n,r,a,d){return Object(c["t"])(),Object(c["f"])("div",i,[Object(c["g"])("div",o,[Object(c["g"])("div",{class:"iconfont top__header__back",onClick:e[0]||(e[0]=function(){return r.handleBackClick&&r.handleBackClick.apply(r,arguments)})},""),s]),u])}var f=n("6c02"),l={name:"TopArea",setup:function(){var t=Object(f["d"])(),e=function(){t.back()};return{handleBackClick:e}}},_=(n("58c3"),n("6b0d")),b=n.n(_);const p=b()(l,[["render",d],["__scopeId","data-v-6f1119d2"]]);var v=p,O=(n("b0c0"),n("b680"),function(t){return Object(c["w"])("data-v-51236a8a"),t=t(),Object(c["u"])(),t}),j={class:"products"},h={class:"products__title"},m={class:"products__wrapper"},g={class:"products__list"},C=["src"],k={class:"products__item__detail"},w={class:"products__item__title"},I={class:"products__item__price"},L=O((function(){return Object(c["g"])("span",{class:"products__item__yen"},"¥ ",-1)})),x={class:"products__item__total"},N=O((function(){return Object(c["g"])("span",{class:"products__item__yen"},"¥ ",-1)}));function y(t,e,n,r,a,i){return Object(c["t"])(),Object(c["f"])("div",j,[Object(c["g"])("div",h,Object(c["C"])(r.shopName),1),Object(c["g"])("div",m,[Object(c["g"])("div",g,[(Object(c["t"])(!0),Object(c["f"])(c["a"],null,Object(c["z"])(r.productList,(function(t){return Object(c["t"])(),Object(c["f"])("div",{key:t._id,class:"products__item"},[Object(c["g"])("img",{class:"products__item__img",src:t.imgUrl},null,8,C),Object(c["g"])("div",k,[Object(c["g"])("h4",w,Object(c["C"])(t.name),1),Object(c["g"])("p",I,[Object(c["g"])("span",null,[L,Object(c["i"])(" "+Object(c["C"])(t.price)+" x "+Object(c["C"])(t.count),1)]),Object(c["g"])("span",x,[N,Object(c["i"])(" "+Object(c["C"])((t.price*t.count).toFixed(2)),1)])])])])})),128))])])])}var A=n("75c9"),S={name:"ProductList",setup:function(){var t=Object(f["c"])(),e=t.params.id,n=Object(A["a"])(e),c=n.shopName,r=n.productList;return{shopName:c,productList:r}}};n("f901");const F=b()(S,[["render",y],["__scopeId","data-v-51236a8a"]]);var R=F,B=function(t){return Object(c["w"])("data-v-bb680ea0"),t=t(),Object(c["u"])(),t},P={class:"order"},T={class:"order__price"},E=Object(c["i"])("实付金额 "),J=B((function(){return Object(c["g"])("h3",{class:"mask__content__title"},"确认要离开收银台？",-1)})),z=B((function(){return Object(c["g"])("p",{class:"mask__content__desc"},"请尽快完成支付，否则将被取消",-1)})),D={class:"mask__content__btns"};function G(t,e,n,r,a,i){return Object(c["t"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("div",P,[Object(c["g"])("div",T,[E,Object(c["g"])("b",null,"¥"+Object(c["C"])(r.calculations.price),1)]),Object(c["g"])("div",{class:"order__btn",onClick:e[0]||(e[0]=function(){return r.handleShowConfirmChange(!0)})},"提交订单")]),Object(c["K"])(Object(c["g"])("div",{class:"mask",onClick:e[4]||(e[4]=function(){return r.handleShowConfirmChange(!1)})},[Object(c["g"])("div",{class:"mask__content",onClick:e[3]||(e[3]=Object(c["L"])((function(){}),["stop"]))},[J,z,Object(c["g"])("div",D,[Object(c["g"])("div",{class:"mask__content__btn mask__content__btn--first",onClick:e[1]||(e[1]=function(){return r.handleConfirmOrder(!0)})},"取消订单"),Object(c["g"])("div",{class:"mask__content__btn mask__content__btn--last",onClick:e[2]||(e[2]=function(){return r.handleConfirmOrder(!1)})},"确认支付")])])],512),[[c["G"],r.showConfirm]])],64)}var K=n("1da1"),M=(n("96cf"),n("5502")),U=n("b775"),W=function(t,e,n){var c=Object(f["d"])(),r=Object(M["b"])(),a=function(){var a=Object(K["a"])(regeneratorRuntime.mark((function a(i){var o,s,u,d;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(s in o=[],n.value)u=n.value[s],o.push({id:parseInt(u._id,10),num:u.count});return a.prev=2,a.next=5,Object(U["b"])("/api/order",{addressId:1,shopId:t,shopName:e.value,isCanceled:i,products:o});case 5:d=a.sent,0===(null===d||void 0===d?void 0:d.errno)&&(r.commit("clearCartData",t),c.push({name:"OrderList"})),a.next=11;break;case 9:a.prev=9,a.t0=a["catch"](2);case 11:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(t){return a.apply(this,arguments)}}();return{handleConfirmOrder:a}},q=function(){var t=Object(c["y"])(!1),e=function(e){t.value=e};return{showConfirm:t,handleShowConfirmChange:e}},H={name:"Order",setup:function(){var t=Object(f["c"])(),e=parseInt(t.params.id,10),n=Object(A["a"])(e),c=n.calculations,r=n.shopName,a=n.productList,i=W(e,r,a),o=i.handleConfirmOrder,s=q(),u=s.showConfirm,d=s.handleShowConfirmChange;return{showConfirm:u,handleShowConfirmChange:d,calculations:c,handleConfirmOrder:o}}};n("2a01");const Q=b()(H,[["render",G],["__scopeId","data-v-bb680ea0"]]);var V=Q,X={name:"OrderConfirmation",components:{TopArea:v,ProductList:R,Order:V}};n("33fc");const Y=b()(X,[["render",a],["__scopeId","data-v-1f6731da"]]);e["default"]=Y},f854:function(t,e,n){},f901:function(t,e,n){"use strict";n("4bf6")}}]);
//# sourceMappingURL=orderConfirmation.6fd9b13c.js.map